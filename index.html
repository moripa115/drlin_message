<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ—ã‚¼ãƒŸã§ã®å­¦ã³ã¨æ„Ÿè¬</title>

  <style>
    body {
      margin: 0;
      font-family: "Hiragino Mincho ProN", "Yu Mincho", "YuMincho", serif;
      background: #faf0e6;
      color: #4a4a4a;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ===== èƒŒæ™¯ã®è£…é£¾ ===== */
    .flowers {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      opacity: 0;
      transition: opacity 1.5s ease;
      background-color: #faf0e6;
      background-image: 
        radial-gradient(circle at 15% 25%, rgba(219, 144, 152, 0.6) 0%, transparent 40%),
        radial-gradient(circle at 85% 75%, rgba(219, 144, 152, 0.6) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(255, 210, 210, 0.5) 0%, transparent 60%),
        radial-gradient(circle at 80% 10%, rgba(235, 170, 175, 0.5) 0%, transparent 30%);
      pointer-events: none;
    }

    .flowers.is-visible {
      opacity: 1;
    }

    /* ===== æ‰‹ç´™æœ¬ä½“ ===== */
    .letter {
      position: relative;
      z-index: 10; /* èƒŒæ™¯ã‚ˆã‚Šä¸Š */
      max-width: 640px;
      margin: 80px auto;
      padding: 64px 40px;
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(4px);
      border-radius: 4px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05);
      line-height: 2.2;
    }

    /* ===== çµµæ–‡å­—ã‚’è¡¨ç¤ºã™ã‚‹å°‚ç”¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆæœ€å‰é¢ï¼‰ ===== */
    #emoji-container {
      position: fixed; /* ç”»é¢ã«å›ºå®š */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999; /* ç¢ºå®Ÿã«ä¸€ç•ªæ‰‹å‰ã«è¡¨ç¤º */
      pointer-events: none; /* ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä¸‹ã®æ–‡å­—ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ */
      overflow: hidden;
    }

    .emoji-pop {
      position: absolute;
      font-size: 1.8rem;
      transform: translate(-50%, -50%);
      white-space: nowrap;
      pointer-events: none;
      will-change: transform, opacity; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ»‘ã‚‰ã‹ã« */
      animation: popAndFade 1s ease-out forwards;
    }

    @keyframes popAndFade {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5) rotate(0deg);
      }
      20% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.2) rotate(10deg);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -150%) scale(1) rotate(-10deg);
      }
    }

    /* ä»¥ä¸‹ã€æ‰‹ç´™ã®è£…é£¾ã‚¯ãƒ©ã‚¹ */
    .date { text-align: right; font-size: 0.9rem; color: #8c8c8c; margin-bottom: 32px; }
    .subject { font-size: 1.6rem; font-weight: 500; margin-bottom: 48px; color: #8c5e5e; letter-spacing: 0.05em; }
    .subject::after { content: ""; display: block; width: 40px; height: 1px; background: #dbb0b4; margin-top: 24px; }
    .to { margin-bottom: 32px; font-size: 1.1rem; }
    p { margin: 0 0 40px; text-indent: 1em; text-align: justify; }
    .divider { text-align: center; margin: 60px 0; color: #d8b5b8; font-size: 1.2rem; opacity: 0.8; }
    .closing { margin-top: 64px; text-indent: 0; }
    footer { margin-top: 64px; text-align: right; font-size: 0.95rem; color: #555; }
    
    @media (max-width: 480px) {
      .letter { margin: 40px 20px; padding: 40px 24px; }
      .subject { font-size: 1.4rem; }
    }
  </style>
</head>

<body>
  <div class="flowers"></div>
  
  <div id="emoji-container"></div>

  <main class="letter">
    <div class="date">2026å¹´1æœˆ</div>
    <div class="subject">æ—ã‚¼ãƒŸã§ã®å­¦ã³ã¨æ„Ÿè¬</div>
    <div class="to">æ—å…ˆç”Ÿ</div>

    <p>æ—ã‚¼ãƒŸã«å…¥ã£ã¦ã‹ã‚‰ã®1å¹´ã¨æ•°ãƒ¶æœˆã¯ã€ã“ã‚Œã¾ã§ã®ã©ã®æ™‚é–“ã‚ˆã‚Šã‚‚ã‚ã£ã¨ã„ã†é–“ã§ã—ãŸã€‚ãã‚Œã§ã‚‚æŒ¯ã‚Šè¿”ã‚‹ã¨ã€ã©ã®æœˆã«ã‚‚ç¢ºã‹ã«å¤§äº‹ãªå‡ºæ¥äº‹ãŒã‚ã‚Šã€ç§ã¯æ—¥ã€…ã€çš†ã«æ”¯ãˆã‚‰ã‚Œã¦ç”Ÿãå»¶ã³ã¦ããŸã®ã ã¨æ€ã„ã¾ã™ã€‚</p>
    <div class="divider">ï¼Š</div>
    <p>ç§ã¯ã‚¼ãƒŸã«å…¥ã‚‹å‰ã€æ­£ç›´ã«è¨€ã†ã¨ã€å¤§å­¦ç”Ÿæ´»ã‚’å¿ƒã‹ã‚‰æ¥½ã—ã‚ã¦ã„ã‚‹ã¨ã¯è¨€ãˆã¾ã›ã‚“ã§ã—ãŸã€‚ã‚³ãƒ­ãƒŠç¦ã§ã®å…¥å­¦ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å¤§å­¦ç”Ÿæ´»ã®å§‹ã‚æ–¹ãŒåˆ†ã‹ã‚‰ãšã€å‹äººã‚’ä½œã‚‹ã“ã¨ã«ã¨ã¦ã‚‚è‹¦åŠ´ã‚’ã—ãŸè¦šãˆãŒã‚ã‚Šã¾ã™ã€‚</p>
    <p>æ°‘æ³•ã‚„çµŒæ¸ˆã®æˆæ¥­ã‚’è‡ªå®…ã®PCã‹ã‚‰å‚ã‚Œæµã™ç„¡å‘³ä¹¾ç‡¥ãªæ—¥ã€…ã‚’é€ã‚‹ä¸­ã§ã€ã€Œè‡ªåˆ†ã¯ã¡ã‚ƒã‚“ã¨å¤§å­¦ç”Ÿã‚’ã—ã¦ã„ã‚‹ã®ã ã‚ã†ã‹ã€ã¨ã€ã©ã“ã‹ç½®ã„ã¦ã„ã‹ã‚ŒãŸã‚ˆã†ãªæ°—æŒã¡ã§ã„ã¾ã—ãŸã€‚</p>
    <div class="divider">ï¼Š</div>
    <p>ãã‚“ãªä¸­ã§æ—ã‚¼ãƒŸã«å…¥ã‚Šã€åˆã‚ã¦ã€Œå¤§å­¦ã§å­¦ã‚“ã§ã„ã‚‹ã€ã¨ã„ã†å®Ÿæ„Ÿã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã—ãŸã€‚çœŸé¢ç›®ã§ã€ä¸€ç”Ÿæ‡¸å‘½ã§ã€å­¦ã¶ã“ã¨ã«èª å®ŸãªäººãŸã¡ã«å›²ã¾ã‚Œã€ä¹…ã—ã¶ã‚Šã«ã€Œå‹‰å¼·ãŒæ¥½ã—ã„ã€ã¨æ„Ÿã˜ã¾ã—ãŸã€‚</p>
    <p>è­°è«–ã«å‚åŠ ã™ã‚‹ã“ã¨ã€æœ¬ã‚’èª­ã‚€ã“ã¨ã€åˆ†ã‹ã‚‰ãªã„ã“ã¨ã‚’èª¿ã¹ã‚‹ã“ã¨ã€æ­´å²ã‚’çŸ¥ã‚‹ã“ã¨ã€ã¡ã‚ƒã‚“ã¨è‡ªåˆ†ã®è¨€è‘‰ã«ã¾ã¨ã‚ã¦ç™ºè¡¨ã™ã‚‹ã“ã¨ã€‚ãã®ä¸€ã¤ã²ã¨ã¤ãŒæ–°é®®ã§ã€åˆºæ¿€çš„ã§ã—ãŸã€‚</p>
    <div class="divider">ï¼Š</div>
    <p>é‡‘æ›œ3é™ã®æ™‚é–“ã¯ã•ã‚‹ã“ã¨ãªãŒã‚‰ã€å…ˆç”ŸãŒä¸­å›½ã®æ–‡åŒ–ãƒ»ç¾è¡“ã«ã¤ã„ã¦è©±ãŒè„±ç·šã—ã¦ã„ãæ™‚é–“ãŒå¤§å¥½ãã§ã—ãŸã€‚èˆˆå‘³ã‚’æŒã£ã¦ä¸­å›½ç¾è¡“å²ã‚„æ›¼è¼ç¾…ã®è¬›ç¾©ã‚’ã¨ã‚‹ãªã‹ã§ã€ã‚·ãƒ«ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚’é€šã˜ãŸäº¤æµå²ã«ã€å£®å¤§ãªãƒ­ãƒãƒ³ã‚’æ„Ÿã˜ãŸã“ã¨ã‚’è¦šãˆã¦ã„ã¾ã™ã€‚</p>
    <p>æ—ã‚¼ãƒŸã¯ã€ç§ã«ã¨ã£ã¦ã€Œå¼·ããªã‚‹å ´æ‰€ã€ã§ã¯ãªãã€è¿·ã„ãªãŒã‚‰è€ƒãˆç¶šã‘ã¦ã„ã„å ´æ‰€ã§ã—ãŸã€‚ãã—ã¦ã€è‡ªç„¶ä½“ã§ã€å‰å‘ãã§ã€æœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ä»²é–“ã¨å‡ºä¼šãˆãŸå ´æ‰€ã§ã™ã€‚</p>
    <div class="closing">
      æ—ã‚¼ãƒŸã§å¾—ãŸå­¦ã³ã‚’ã€ä»Šå¾Œã®äººç”Ÿã‚„ã•ã¾ã–ã¾ãªé¸æŠã«ä¸å¯§ã«æ´»ã‹ã—ã¦ã„ããŸã„ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚<br />
      ã“ã‚Œã¾ã§ã®ã”æŒ‡å°ã«ã€å¿ƒã‚ˆã‚Šæ„Ÿè¬ç”³ã—ä¸Šã’ã¾ã™ã€‚
    </div>
    <footer>
      æ³•å­¦éƒ¨ æ”¿æ²»å­¦ç§‘ 4å¹´<br />
      æ£® é¥
    </footer>
  </main>

  <script>
    // --- èƒŒæ™¯ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¡¨ç¤ºå‡¦ç† ---
    const flowers = document.querySelector('.flowers');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 20) {
        flowers.classList.add('is-visible');
      } else {
        flowers.classList.remove('is-visible');
      }
    });

    // --- çµµæ–‡å­—ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å‡¦ç† ---
    const container = document.getElementById('emoji-container');
    const emojis = ['ğŸŒ¸', 'ğŸŸ', 'ğŸŒ³'];
    let lastTime = 0;

    // çµµæ–‡å­—ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
    function spawnEmoji(x, y) {
      const now = Date.now();
      // 0.05ç§’(50ms)ã«1å›ã«é »åº¦ã‚’ä¸Šã’ã¦åå¿œã‚’è‰¯ãã™ã‚‹
      if (now - lastTime < 50) return; 
      lastTime = now;

      const randomIndex = Math.floor(Math.random() * emojis.length);
      const span = document.createElement('span');
      span.textContent = emojis[randomIndex];
      span.classList.add('emoji-pop');
      
      // ç”»é¢ä¸Šã®å›ºå®šä½ç½®(clientX/Y)ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§åº§æ¨™ã‚ºãƒ¬ã‚’é˜²ã
      span.style.left = x + 'px';
      span.style.top = y + 'px';

      container.appendChild(span);

      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã«å‰Šé™¤
      setTimeout(() => {
        span.remove();
      }, 1000);
    }

    // PC: ãƒã‚¦ã‚¹ç§»å‹•
    window.addEventListener('mousemove', (e) => {
      spawnEmoji(e.clientX, e.clientY);
    });

    // ã‚¹ãƒãƒ›: ã‚¿ãƒƒãƒç§»å‹•ï¼ˆæŒ‡ã‚’æ»‘ã‚‰ã›ã¦ã„ã‚‹æ™‚ï¼‰
    window.addEventListener('touchmove', (e) => {
      const touch = e.touches[0];
      if (touch) {
        spawnEmoji(touch.clientX, touch.clientY);
      }
    }, { passive: true }); // passive: true ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ã‚’é˜»å®³ã—ãªã„

    // ã‚¹ãƒãƒ›/PC: ã‚¿ãƒƒãƒ—ãƒ»ã‚¯ãƒªãƒƒã‚¯ã—ãŸç¬é–“
    window.addEventListener('click', (e) => {
      lastTime = 0; // ã‚¯ãƒªãƒƒã‚¯æ™‚ã¯å¼·åˆ¶çš„ã«å‡ºã™
      spawnEmoji(e.clientX, e.clientY);
    });
    
    // ã‚¹ãƒãƒ›: ç”»é¢ã«è§¦ã‚ŒãŸç¬é–“
    window.addEventListener('touchstart', (e) => {
      const touch = e.touches[0];
      if (touch) {
        lastTime = 0;
        spawnEmoji(touch.clientX, touch.clientY);
      }
    }, { passive: true });

  </script>
</body>
</html>